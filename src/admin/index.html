<!DOCTYPE html>
<html lang="uk">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å | –®–∫—ñ–ª—å–Ω–∏–π —Å–∞–π—Ç</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Open+Sans:wght@400;600&display=swap"
    rel="stylesheet">
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

  <style>
    /* –ü–æ–≤–Ω–∏–π —Å—Ç–∏–ª—å –ø—Ä–µ–≤—å—é —è–∫ —Å–ø—Ä–∞–≤–∂–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ */
    :root {
      --primary-green: #2e7d32;
      --light-green: #e8f5e9;
      --accent-orange: #f57c00;
      --text-dark: #263238;
      --text-light: #546e7a;
      --white: #ffffff;
      --bg-color: #f4f7f6;
    }

    .site-preview {
      font-family: 'Open Sans', sans-serif;
      color: var(--text-dark);
      background: var(--bg-color);
      min-height: 100vh;
    }

    /* –•–µ–¥–µ—Ä –ø—Ä–µ–≤—å—é */
    .preview-header {
      background: var(--white);
      border-bottom: 3px solid var(--primary-green);
      padding: 15px 30px;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .preview-header .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .preview-header .logo-icon {
      width: 50px;
      height: 50px;
      background: var(--primary-green);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
    }

    .preview-header .logo-text {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      color: var(--primary-green);
      text-transform: uppercase;
      font-size: 0.9rem;
    }

    /* Hero —Å–µ–∫—Ü—ñ—è */
    .preview-hero {
      background: linear-gradient(135deg, var(--primary-green) 0%, #1b5e20 100%);
      color: white;
      text-align: center;
      padding: 60px 30px;
    }

    .preview-hero h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: 2.2rem;
      margin-bottom: 15px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .preview-hero p {
      font-size: 1.1rem;
      opacity: 0.9;
    }

    /* –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç */
    .preview-main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 30px;
    }

    .preview-main .section {
      padding: 20px 0;
    }

    .preview-main h2 {
      font-family: 'Montserrat', sans-serif;
      color: var(--primary-green);
      font-size: 1.6rem;
      margin: 25px 0 15px;
      position: relative;
    }

    .preview-main h2::after {
      content: '';
      display: block;
      width: 60px;
      height: 3px;
      background: var(--accent-orange);
      margin-top: 8px;
    }

    .preview-main p {
      margin-bottom: 1em;
      line-height: 1.7;
    }

    .preview-main ul,
    .preview-main ol {
      margin-left: 25px;
      margin-bottom: 1em;
    }

    .preview-main li {
      margin-bottom: 0.5em;
    }

    .preview-main strong {
      font-weight: 700;
      color: var(--primary-green);
    }

    /* –ö–∞—Ä—Ç–∫–∏ */
    .preview-card {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      border-left: 4px solid var(--primary-green);
    }

    /* –°—ñ—Ç–∫–∞ –≤—á–∏—Ç–µ–ª—ñ–≤ */
    .staff-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 25px;
      margin: 25px 0;
    }

    .staff-card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s;
    }

    .staff-card:hover {
      transform: translateY(-5px);
    }

    .staff-photo {
      width: 100%;
      height: 250px;
      object-fit: cover;
      background: #e0e0e0;
    }

    .staff-info {
      padding: 20px;
      border-top: 3px solid var(--primary-green);
    }

    .staff-info h3 {
      font-family: 'Montserrat', sans-serif;
      font-size: 1rem;
      margin-bottom: 5px;
    }

    .staff-position {
      color: var(--primary-green);
      font-size: 0.85rem;
      font-weight: 600;
      text-transform: uppercase;
    }

    /* Image + Text –±–ª–æ–∫ */
    .image-text-block {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 30px;
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    }

    .image-side img {
      width: 100%;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    /* –¢–∞–±–ª–∏—Ü—ñ */
    .table-wrapper {
      overflow-x: auto;
      margin: 20px 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 8px;
      overflow: hidden;
    }

    th {
      background: var(--primary-green);
      color: white;
      padding: 12px 15px;
      text-align: left;
      font-weight: 600;
    }

    td {
      padding: 12px 15px;
      border-bottom: 1px solid #eee;
    }

    tr:hover {
      background: var(--light-green);
    }

    /* –§—É—Ç–µ—Ä –ø—Ä–µ–≤—å—é */
    .preview-footer {
      background: #263238;
      color: #cfd8dc;
      text-align: center;
      padding: 25px;
      margin-top: 40px;
    }

    .preview-footer p {
      margin: 0;
      font-size: 0.9rem;
    }

    /* Alert –±–ª–æ–∫–∏ */
    .alert-info {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
    }

    .alert-warning {
      background: #fff3e0;
      border-left: 4px solid #ff9800;
    }

    .alert-success {
      background: var(--light-green);
      border-left: 4px solid #4caf50;
    }

    .alert-error {
      background: #ffebee;
      border-left: 4px solid #f44336;
    }

    .block-label {
      font-size: 0.7rem;
      color: #999;
      text-transform: uppercase;
      margin-bottom: 10px;
      letter-spacing: 1px;
    }
  </style>
</head>

<body>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>

  <script>
    function parseMarkdown(content) {
      if (!content) return '';
      try { return marked.parse(content); } catch (e) { return content; }
    }

    var PagePreview = createClass({
      render: function () {
        var entry = this.props.entry;
        var title = entry.getIn(['data', 'title']) || '';
        var description = entry.getIn(['data', 'description']) || '';
        var blocks = entry.getIn(['data', 'blocks']);

        return h('div', { className: 'site-preview' },
          // –•–µ–¥–µ—Ä
          h('div', { className: 'preview-header' },
            h('div', { className: 'logo' },
              h('div', { className: 'logo-icon' }, 'üè´'),
              h('div', { className: 'logo-text' }, '–õ—É–±–µ–Ω—Å—å–∫–∞ —à–∫–æ–ª–∞ ‚Ññ8')
            )
          ),

          // Hero —Å–µ–∫—Ü—ñ—è
          h('div', { className: 'preview-hero' },
            h('h1', {}, title),
            h('p', {}, description)
          ),

          // –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
          h('main', { className: 'preview-main' },
            h('div', { className: 'section' },
              blocks ? blocks.map(function (block, index) {
                var type = block.get('type');
                var content = block.get('content') || '';
                var parsedContent = parseMarkdown(content);

                if (type === 'text_block') {
                  return h('div', { key: index, className: 'preview-card' },
                    h('div', { className: 'block-label' }, '–¢–µ–∫—Å—Ç–æ–≤–∏–π –±–ª–æ–∫'),
                    block.get('heading') && h('h2', {}, block.get('heading')),
                    h('div', { dangerouslySetInnerHTML: { __html: parsedContent } })
                  );
                }

                if (type === 'image_text_block') {
                  return h('div', { key: index, className: 'image-text-block' },
                    h('div', { className: 'image-side' },
                      h('img', { src: block.get('image'), alt: block.get('alt') || '' })
                    ),
                    h('div', { className: 'text-side' },
                      block.get('heading') && h('h2', {}, block.get('heading')),
                      h('div', { dangerouslySetInnerHTML: { __html: parsedContent } })
                    )
                  );
                }

                if (type === 'cards_grid_block') {
                  var cards = block.get('cards');
                  return h('div', { key: index },
                    h('div', { className: 'block-label' }, '–°—ñ—Ç–∫–∞ –∫–∞—Ä—Ç–æ–∫'),
                    h('div', { className: 'staff-grid' },
                      cards && cards.map(function (card, i) {
                        return h('div', { key: i, className: 'staff-card' },
                          card.get('image') && h('img', { src: card.get('image'), className: 'staff-photo' }),
                          h('div', { className: 'staff-info' },
                            h('h3', {}, card.get('name')),
                            card.get('position') && h('p', { className: 'staff-position' }, card.get('position'))
                          )
                        );
                      })
                    )
                  );
                }

                if (type === 'table_block') {
                  return h('div', { key: index, className: 'preview-card' },
                    h('div', { className: 'block-label' }, '–¢–∞–±–ª–∏—Ü—è'),
                    block.get('heading') && h('h3', {}, block.get('heading')),
                    h('p', { style: { color: '#888' } }, 'üìä –¢–∞–±–ª–∏—Ü—è –∑ ' + (block.get('rows') ? block.get('rows').size : 0) + ' —Ä—è–¥–∫—ñ–≤')
                  );
                }

                if (type === 'documents_block') {
                  return h('div', { key: index, className: 'preview-card' },
                    h('div', { className: 'block-label' }, '–î–æ–∫—É–º–µ–Ω—Ç–∏'),
                    block.get('heading') && h('h3', {}, block.get('heading')),
                    h('p', { style: { color: '#888' } }, 'üìÑ ' + (block.get('documents') ? block.get('documents').size : 0) + ' –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤')
                  );
                }

                if (type === 'alert_block') {
                  var alertType = block.get('alert_type') || 'info';
                  return h('div', { key: index, className: 'preview-card alert-' + alertType },
                    block.get('heading') && h('h3', {}, block.get('heading')),
                    h('div', { dangerouslySetInnerHTML: { __html: parsedContent } })
                  );
                }

                return h('div', { key: index, className: 'preview-card' },
                  h('div', { className: 'block-label' }, '–ë–ª–æ–∫: ' + type)
                );
              }) : null
            )
          ),

          // –§—É—Ç–µ—Ä
          h('div', { className: 'preview-footer' },
            h('p', {}, '¬© 2026 –õ—É–±–µ–Ω—Å—å–∫–∞ –∑–∞–≥–∞–ª—å–Ω–æ–æ—Å–≤—ñ—Ç–Ω—è —à–∫–æ–ª–∞ ‚Ññ8')
          )
        );
      }
    });

    CMS.registerPreviewTemplate('site_pages', PagePreview);
  </script>
</body>

</html>